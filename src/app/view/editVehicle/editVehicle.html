<div class="edit-mode">
    <div class="header">
        <h2>Editar vehículo</h2>
    </div>

    <form [formGroup]="editForm" class="edit-form">

        <div class="form-group">
            <label>Alias</label>
            <div class="input-wrapper">
                <input type="text" formControlName="alias" placeholder="Ej. Coche trabajo" />
                @if (editForm.get('alias')?.value) {
                    <button type="button" class="clear-btn" (click)="clearField('alias')">⊗</button>
                }
            </div>
        </div>

        <div class="grid-row">
            <div class="form-group">
                <label>Matrícula</label>
                <div class="input-wrapper">
                    <input type="text" formControlName="matricula" placeholder="Ej. 1234XYZ" />
                    @if (editForm.get('matricula')?.value) {
                        <button type="button" class="clear-btn" (click)="clearField('matricula')">⊗</button>
                    }
                </div>
            </div>

            <div class="form-group">
                <label>Año</label>
                <div class="input-wrapper">
                    <input type="number" formControlName="anyo" />
                </div>
            </div>
        </div>

        <div class="grid-row">
            <div class="form-group">
                <label>Marca</label>
                <div class="input-wrapper">
                    <input type="text" formControlName="marca" />
                    @if (editForm.get('marca')?.value) {
                        <button type="button" class="clear-btn" (click)="clearField('marca')">⊗</button>
                    }
                </div>
            </div>

            <div class="form-group">
                <label>Modelo</label>
                <div class="input-wrapper">
                    <input type="text" formControlName="modelo" />
                    @if (editForm.get('modelo')?.value) {
                        <button type="button" class="clear-btn" (click)="clearField('modelo')">⊗</button>
                    }
                </div>
            </div>
        </div>

        <div class="form-group">
            <label>Combustible</label>
            <div class="input-wrapper">
                <select formControlName="tipoCombustible" class="form-select">
                    @for (fuel of fuelTypes(); track fuel) {
                        <option [value]="fuel">{{ fuel }}</option>
                    }
                </select>
            </div>
        </div>

        <div class="form-group">
            <label>Consumo ({{ consumptionUnit() }})</label>
            <div class="input-wrapper">
                <input type="number" step="0.1" formControlName="consumoMedio" />
                @if (editForm.get('consumoMedio')?.value) {
                    <button type="button" class="clear-btn" (click)="clearField('consumoMedio')">⊗</button>
                }
            </div>
        </div>

        <div class="form-actions">
            <button
                type="button"
                class="btn btn-primary"
                (click)="onSave()"
                [disabled]="!editForm.valid">
                GUARDAR
            </button>

            <button
                type="button"
                class="btn btn-cancel"
                (click)="onCancel()">
                CANCELAR
            </button>
        </div>
    </form>
</div>
